{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import 'flatpickr/dist/flatpickr.min.css';\nimport flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst myInp = document.getElementById('datetime-picker');\nmyInp.classList.add('time-changer');\nmyInp.style.width = '200px';\nmyInp.style.height = '20px';\nmyInp.style.borderRadius = '5px';\n\nconst strBtn = document.querySelector('button[data-start]');\nconst countdownDisplay = document.querySelector('.timer');\n\nlet intervalId = 0;\nlet countdownEndTime = 0; // Змінна для збереження кінцевого часу для таймера\nstrBtn.disabled = true;\n\nstrBtn.addEventListener('click', () => {\n  if (!intervalId) {\n    intervalId = setInterval(updateCountdown, 1000);\n    countdownDisplay.classList.add('value');\n    countdownDisplay.classList.add('field');\n    countdownDisplay.classList.add('label');\n  }\n  return;\n});\n\nfunction updateCountdown() {\n  const currentTime = new Date().getTime();\n  const timeLeft = countdownEndTime - currentTime;\n  countdownDisplay.classList.add('value');\n  countdownDisplay.classList.add('field');\n  countdownDisplay.classList.add('label');\n  strBtn.disabled = false;\n\n  if (timeLeft <= 0) {\n    clearInterval(intervalId);\n    intervalId = 0;\n    countdownDisplay.textContent = 'Час вийшов!';\n    iziToast.show({\n      title: 'Alert',\n      message: `This date was in the past. Choose another one`,\n      position: 'topRight',\n      timeout: 3000,\n    });\n    strBtn.disabled = true;\n    return;\n  }\n\n  const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n  const hours = Math.floor(\n    (timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n  );\n  const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);\n\n  countdownDisplay.textContent = ` ${days} days, ${hours} hours, ${minutes} minutes, ${seconds} seconds`;\n}\n\nmyInp.addEventListener('change', () => {\n  const selectedDate = myInp.value;\n  countdownEndTime = new Date(selectedDate).getTime();\n});\n\nflatpickr(myInp, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    countdownEndTime = selectedDates[0].getTime();\n    updateCountdown();\n  },\n});\n"],"names":["myInp","strBtn","countdownDisplay","intervalId","countdownEndTime","updateCountdown","currentTime","timeLeft","iziToast","days","hours","minutes","seconds","selectedDate","flatpickr","selectedDates"],"mappings":"2GAKA,MAAMA,EAAQ,SAAS,eAAe,iBAAiB,EACvDA,EAAM,UAAU,IAAI,cAAc,EAClCA,EAAM,MAAM,MAAQ,QACpBA,EAAM,MAAM,OAAS,OACrBA,EAAM,MAAM,aAAe,MAE3B,MAAMC,EAAS,SAAS,cAAc,oBAAoB,EACpDC,EAAmB,SAAS,cAAc,QAAQ,EAExD,IAAIC,EAAa,EACbC,EAAmB,EACvBH,EAAO,SAAW,GAElBA,EAAO,iBAAiB,QAAS,IAAM,CAChCE,IACHA,EAAa,YAAYE,EAAiB,GAAI,EAC9CH,EAAiB,UAAU,IAAI,OAAO,EACtCA,EAAiB,UAAU,IAAI,OAAO,EACtCA,EAAiB,UAAU,IAAI,OAAO,EAG1C,CAAC,EAED,SAASG,GAAkB,CACzB,MAAMC,EAAc,IAAI,KAAM,EAAC,QAAO,EAChCC,EAAWH,EAAmBE,EAMpC,GALAJ,EAAiB,UAAU,IAAI,OAAO,EACtCA,EAAiB,UAAU,IAAI,OAAO,EACtCA,EAAiB,UAAU,IAAI,OAAO,EACtCD,EAAO,SAAW,GAEdM,GAAY,EAAG,CACjB,cAAcJ,CAAU,EACxBA,EAAa,EACbD,EAAiB,YAAc,cAC/BM,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,SAAU,WACV,QAAS,GACf,CAAK,EACDP,EAAO,SAAW,GAClB,MACD,CAED,MAAMQ,EAAO,KAAK,MAAMF,GAAY,IAAO,GAAK,GAAK,GAAG,EAClDG,EAAQ,KAAK,MAChBH,GAAY,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GACtD,EACQI,EAAU,KAAK,MAAOJ,GAAY,IAAO,GAAK,KAAQ,IAAO,GAAG,EAChEK,EAAU,KAAK,MAAOL,GAAY,IAAO,IAAO,GAAI,EAE1DL,EAAiB,YAAc,IAAIO,CAAI,UAAUC,CAAK,WAAWC,CAAO,aAAaC,CAAO,UAC9F,CAEAZ,EAAM,iBAAiB,SAAU,IAAM,CACrC,MAAMa,EAAeb,EAAM,MAC3BI,EAAmB,IAAI,KAAKS,CAAY,EAAE,QAAO,CACnD,CAAC,EAEDC,EAAUd,EAAO,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQe,EAAe,CACrBX,EAAmBW,EAAc,CAAC,EAAE,QAAO,EAC3CV,GACD,CACH,CAAC"}